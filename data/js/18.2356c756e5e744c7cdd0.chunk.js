(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{347:function(e,t,o){"use strict";Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),o=1;o<arguments.length;o++){var n=arguments[o];if(null!=n){n=Object(n);for(var s=Object.keys(Object(n)),i=0,a=s.length;i<a;i++){var l=s[i],r=Object.getOwnPropertyDescriptor(n,l);void 0!==r&&r.enumerable&&(t[l]=n[l])}}}return t}});var n={version:"3.11.3",date:"2019-11-25 21:49",id:0,ziBase:100,zi:100,modalcount:0,autopositionSpacing:5,pbTreshold:.556,lastbeforeclose:!1,template:'<div class="jsPanel">\n                <div class="jsPanel-hdr">\n                    <div class="jsPanel-headerbar">\n                        <div class="jsPanel-headerlogo"></div>\n                        <div class="jsPanel-titlebar">\n                            <h3 class="jsPanel-title"></h3>\n                        </div>\n                        <div class="jsPanel-controlbar">\n                            <div class="jsPanel-btn jsPanel-btn-smallify"><span class="jsglyph jsglyph-chevron-up"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-smallifyrev"><span class="jsglyph jsglyph-chevron-down"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-minimize"><span class="jsglyph jsglyph-minimize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-normalize"><span class="jsglyph jsglyph-normalize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-maximize"><span class="jsglyph jsglyph-maximize"></span></div>\n                            <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                        </div>\n                    </div>\n                    <div class="jsPanel-hdr-toolbar"></div>\n                </div>\n                <div class="jsPanel-content jsPanel-content-nofooter"></div>\n                <div class="jsPanel-minimized-box"></div>\n                <div class="jsPanel-ftr"></div>\n               </div>',replacementTemplate:'<div class="jsPanel-replacement">\n                            <div class="jsPanel-hdr">\n                                <div class="jsPanel-headerbar">\n                                    <div class="jsPanel-titlebar">\n                                        <h3 class="jsPanel-title"></h3>\n                                    </div>\n                                    <div class="jsPanel-controlbar">\n                                        <div class="jsPanel-btn jsPanel-btn-normalize"><span class="jsglyph jsglyph-normalize"></span></div>\n                                        <div class="jsPanel-btn jsPanel-btn-maximize"><span class="jsglyph jsglyph-maximize"></span></div>\n                                        <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>',themes:["default","primary","info","success","warning","danger"],mdbthemes:["secondary","elegant","stylish","unique","special"],controls:["close","maximize","normalize","minimize","smallify","smallifyrev"],tplHeaderOnly:'<div class="jsPanel">\n                        <div class="jsPanel-hdr">\n                            <div class="jsPanel-headerbar">\n                                <div class="jsPanel-headerlogo"></div>\n                                <div class="jsPanel-titlebar">\n                                    <h3 class="jsPanel-title"></h3>\n                                </div>\n                                <div class="jsPanel-controlbar">\n                                    <div class="jsPanel-btn jsPanel-btn-close"><span class="jsglyph jsglyph-close"></span></div>\n                                </div>\n                            </div>\n                            <div class="jsPanel-hdr-toolbar"></div>\n                        </div>\n                    </div>',tplContentOnly:'<div class="jsPanel">\n                        <div class="jsPanel-content jsPanel-content-noheader jsPanel-content-nofooter"></div>\n                        <div class="jsPanel-minimized-box"></div>\n                     </div>',activePanels:{list:[],getPanel(e){return"string"==typeof e?document.getElementById(e).jspanel.noop():document.getElementById(this.list[e]).jspanel.noop()}},closeOnEscape:!1,isIE:-1!==navigator.appVersion.indexOf("Trident"),isEdge:-1!==navigator.appVersion.indexOf("Edge"),addConnector(e){const t=e.option.paneltype.connectorBG||null;e[0].classList.contains("jsPanel-tooltip-top")?(e.append('<div class="jsPanel-connector jsPanel-connector-top">'),jQuery(".jsPanel-connector-top",e).css("border-top-color",t||this.calcConnectorBg(e,"top")),e.option.position.offsetY=e.option.position.offsetY-10||-10):e[0].classList.contains("jsPanel-tooltip-bottom")?(e.append('<div class="jsPanel-connector jsPanel-connector-bottom">'),jQuery(".jsPanel-connector-bottom",e).css("border-bottom-color",t||this.calcConnectorBg(e,"bottom")),e.option.position.offsetY=e.option.position.offsetY+10||10):e[0].classList.contains("jsPanel-tooltip-left")?(e.append('<div class="jsPanel-connector jsPanel-connector-left">'),jQuery(".jsPanel-connector-left",e).css("border-left-color",t||this.calcConnectorBg(e,"left")),e.option.position.offsetX=e.option.position.offsetX-12||-12):e[0].classList.contains("jsPanel-tooltip-right")?(e.append('<div class="jsPanel-connector jsPanel-connector-right">'),jQuery(".jsPanel-connector-right",e).css("border-right-color",t||this.calcConnectorBg(e,"right")),e.option.position.offsetX=e.option.position.offsetX+12||12):e[0].classList.contains("jsPanel-tooltip-lefttopcorner")?(e.append('<div class="jsPanel-connector jsPanel-connector-lefttopcorner">'),jQuery(".jsPanel-connector-lefttopcorner",e).css("background-color",t||this.calcConnectorBg(e,"lefttopcorner"))):e[0].classList.contains("jsPanel-tooltip-righttopcorner")?(e.append('<div class="jsPanel-connector jsPanel-connector-righttopcorner">'),jQuery(".jsPanel-connector-righttopcorner",e).css("background-color",t||this.calcConnectorBg(e,"righttopcorner"))):e[0].classList.contains("jsPanel-tooltip-rightbottomcorner")?(e.append('<div class="jsPanel-connector jsPanel-connector-rightbottomcorner">'),jQuery(".jsPanel-connector-rightbottomcorner",e).css("background-color",t||this.calcConnectorBg(e,"rightbottomcorner"))):e[0].classList.contains("jsPanel-tooltip-leftbottomcorner")?(e.append('<div class="jsPanel-connector jsPanel-connector-leftbottomcorner">'),jQuery(".jsPanel-connector-leftbottomcorner",e).css("background-color",t||this.calcConnectorBg(e,"leftbottomcorner"))):e[0].classList.contains("jsPanel-tooltip-lefttop")?(e.append('<div class="jsPanel-connector jsPanel-connector-lefttop">'),jQuery(".jsPanel-connector-lefttop",e).css("border-left-color",t||this.calcConnectorBg(e,"lefttop")),e.option.position.offsetX=e.option.position.offsetX-12||-12):e[0].classList.contains("jsPanel-tooltip-leftbottom")?(e.append('<div class="jsPanel-connector jsPanel-connector-leftbottom">'),jQuery(".jsPanel-connector-leftbottom",e).css("border-left-color",t||this.calcConnectorBg(e,"leftbottom")),e.option.position.offsetX=e.option.position.offsetX-12||-12):e[0].classList.contains("jsPanel-tooltip-topleft")?(e.append('<div class="jsPanel-connector jsPanel-connector-topleft">'),jQuery(".jsPanel-connector-topleft",e).css("border-top-color",t||this.calcConnectorBg(e,"topleft")),e.option.position.offsetY=e.option.position.offsetY-10||-10):e[0].classList.contains("jsPanel-tooltip-topright")?(e.append('<div class="jsPanel-connector jsPanel-connector-topright">'),jQuery(".jsPanel-connector-topright",e).css("border-top-color",t||this.calcConnectorBg(e,"topright")),e.option.position.offsetY=e.option.position.offsetY-10||-10):e[0].classList.contains("jsPanel-tooltip-righttop")?(e.append('<div class="jsPanel-connector jsPanel-connector-righttop">'),jQuery(".jsPanel-connector-righttop",e).css("border-right-color",t||this.calcConnectorBg(e,"righttop")),e.option.position.offsetX=e.option.position.offsetX+12||12):e[0].classList.contains("jsPanel-tooltip-rightbottom")?(e.append('<div class="jsPanel-connector jsPanel-connector-rightbottom">'),jQuery(".jsPanel-connector-rightbottom",e).css("border-right-color",t||this.calcConnectorBg(e,"rightbottom")),e.option.position.offsetX=e.option.position.offsetX+12||12):e[0].classList.contains("jsPanel-tooltip-bottomleft")?(e.append('<div class="jsPanel-connector jsPanel-connector-bottomleft">'),jQuery(".jsPanel-connector-bottomleft",e).css("border-bottom-color",t||this.calcConnectorBg(e,"bottomleft")),e.option.position.offsetY=e.option.position.offsetY+10||10):e[0].classList.contains("jsPanel-tooltip-bottomright")&&(e.append('<div class="jsPanel-connector jsPanel-connector-bottomright">'),jQuery(".jsPanel-connector-bottomright",e).css("border-bottom-color",t||this.calcConnectorBg(e,"bottomright")),e.option.position.offsetY=e.option.position.offsetY+10||10)},addCustomTheme(e){-1===this.themes.indexOf(e)&&this.themes.push(e)},ajax(e){const t=e.option.contentAjax,o=e.option.contentSize;t.then&&(t.then[0]&&(t.done=t.then[0]),t.then[1]&&(t.fail=t.then[1])),jQuery.ajax(t).done((o,n,s)=>{t.autoload&&e.content.append(o),jQuery.isFunction(t.done)&&t.done.call(e,o,n,s,e)}).fail((o,n,s)=>{jQuery.isFunction(t.fail)&&t.fail.call(e,o,n,s,e)}).always((s,i,a)=>{if(jQuery.isFunction(t.always)&&t.always.call(e,s,i,a,e),e.hasClass("jsPanel-contextmenu")&&n.checkContextmenuOverflow(e),"string"==typeof o&&o.match(/auto/i)){var l=o.split(" "),r=Object.assign({},jQuery.jsPanel.resizedefaults,{width:l[0],height:l[1]});t.autoresize&&e.resize(r),e.hasClass("jsPanel-contextmenu")||t.autoreposition&&e.reposition()}else if(jQuery.isPlainObject(o)&&("auto"===o.width||"auto"===o.height)){r=Object.assign({},jQuery.jsPanel.resizedefaults,o);t.autoresize&&e.resize(r),e.hasClass("jsPanel-contextmenu")||t.autoreposition&&e.reposition()}}),e.data("ajaxURL",t.url)},applyBuiltInTheme(e,t){e[0].classList.add("jsPanel-theme-"+t.color),e.header[0]&&e.header[0].classList.add("jsPanel-theme-"+t.color),"filled"===t.filling?e.content.css("background","")[0].classList.add("jsPanel-content-filled"):"filledlight"===t.filling&&e.content.css("background","")[0].classList.add("jsPanel-content-filledlight"),e.option.headerToolbar||e.content.css({borderTop:"1px solid "+e.header.title.css("color")})},applyArbitraryTheme(e,t){e.header.css("background-color",t.colors[0]),jQuery(".jsPanel-headerlogo, .jsPanel-title, .jsPanel-controlbar .jsPanel-btn .jsglyph, .jsPanel-hdr-toolbar",e).css({color:t.colors[3]}),e.option.headerToolbar?e.header.toolbar.css({boxShadow:`0 0 1px ${t.colors[3]} inset`,width:"calc(100% + 4px)",marginLeft:"-1px"}):e.content.css({borderTop:"1px solid "+t.colors[3]}),"filled"===t.filling?e.content.css({backgroundColor:t.colors[0],color:t.colors[3]}):"filledlight"===t.filling&&e.content.css({backgroundColor:t.colors[1]})},applyBootstrapTheme(e,t){let o;if(e.addClass(`panel panel-${t.bstheme} card card-inverse card-${t.bstheme}`),e.header[0]&&(e.header[0].classList.add("panel-heading"),e.header.title[0].classList.add("panel-title")),"mdb"===t.bs){let o=t.bstheme+"-color";t.mdbStyle&&(o+="-dark"),e.removeClass("panel panel-"+t.bstheme),e[0].classList.add(o)}e.content[0].classList.add("panel-body"),e.content.css("border-top-color",()=>e.header.css("border-top-color")),e.footer.addClass("panel-footer card-footer"),o="transparent"===jQuery(".panel-heading",e).css("background-color")?e.css("background-color").replace(/\s+/g,""):jQuery(".panel-heading",e).css("background-color").replace(/\s+/g,"");const n=this.calcColors(o);jQuery(".jsPanel-headerlogo, .jsPanel-title, .jsPanel-controlbar .jsPanel-btn, .jsPanel-hdr-toolbar",e.header).css("color",n[3]),e.option.headerToolbar?e.header.toolbar.css({boxShadow:`0 0 1px ${n[3]} inset`,width:"calc(100% + 4px)",marginLeft:"-1px"}):e.content.css({borderTop:"1px solid "+n[3]}),"filled"===t.filling?e.content.css({backgroundColor:o,color:n[3]}):"filledlight"===t.filling&&e.content.css({backgroundColor:n[1],color:"#000000"})},applyThemeBorder(e,t){const o=e.option.border.split(" ");if(e.css({borderWidth:o[0],borderStyle:o[1],borderColor:o[2]}),t.bs){let t;t="transparent"===jQuery(".panel-heading",e).css("background-color")?e.css("background-color").replace(/\s+/g,""):jQuery(".panel-heading",e).css("background-color").replace(/\s+/g,""),o[2]?e.css("border-color",o[2]):e.css("border-color",t)}else-1===this.themes.indexOf(t.color)&&(o[2]?e.css("border-color",o[2]):e.css("border-color",t.colors[0]))},calcColors(e){const t=this.color(e),o=this.lighten(e,.81),n=this.darken(e,.5),s=this.perceivedBrightness(e)<=this.pbTreshold?"#ffffff":"#000000",i=this.perceivedBrightness(o)<=this.pbTreshold?"#ffffff":"#000000",a=this.perceivedBrightness(n)<=this.pbTreshold?"#000000":"#ffffff";return[t.hsl.css,o,n,s,i,a]},calcConnectorBg(e,t){const o=e.content.css("background-color"),n=e.footer.css("background-color"),s=e.header.css("background-color");if(t.match(/^(top|topleft|topright|lefttopcorner|righttopcorner|leftbottom|rightbottom)$/))return"none"!==e.footer.css("display")?n:parseFloat(e.option.contentSize.height)>0?o:s;if(t.match(/^(bottom|bottomleft|bottomright|leftbottomcorner|rightbottomcorner)$/)){if(!e.option.headerRemove)return s;if(parseFloat(e.option.contentSize.height)>0)return o;if("none"!==e.footer.css("display"))return n}else{if(t.match(/^(lefttop|righttop)$/))return e.option.headerRemove?o:s;if(t.match(/^(left|right)$/)){if(parseFloat(e.option.contentSize.height)>0)return o;if(!e.option.headerRemove)return s;if("none"!==e.footer.css("display"))return n}}},clearTheme(e){this.themes.concat(this.mdbthemes).forEach((function(t){e.removeClass(`panel card card-inverse jsPanel-theme-${t} panel-${t} card-${t} ${t}-color`),e.header.removeClass("panel-heading jsPanel-theme-"+t)})),e.content.removeClass("panel-body jsPanel-content-filled jsPanel-content-filledlight"),e.css({borderWidth:"",borderStyle:"",borderColor:""}),jQuery(".jsPanel-hdr, .jsPanel-content",e).css({background:""}),jQuery(".jsPanel-headerlogo, .jsPanel-title, .jsPanel-controlbar .jsPanel-btn .jsglyph, .jsPanel-hdr-toolbar, .jsPanel-content",e).css({color:""}),e.header.title.removeClass("panel-title"),e.header.toolbar.css({boxShadow:"",width:"",marginLeft:""}),e.css({borderTop:"",borderTopColor:""}),e.footer.removeClass("panel-footer card-footer")},close(e,...t){const o=e.attr("id"),s=this.setTrigger(e.option.position),i=e.option.delayClose,a=t;function l(e,...t){t=a;const i=e.option.position;if(i.autoposition||"string"==typeof i&&i.match(/DOWN|RIGHT|UP|LEFT/i)){const t=/left-top|center-top|right-top|left-center|center|right-center|left-bottom|center-bottom|right-bottom/,s=jQuery(e).parent(),i=document.getElementById(o).className.match(t);i&&(n.lastbeforeclose={parent:s,class:i[0]})}if(e.closeChildpanels().remove(),!jQuery("#"+o).length){let i,a,l,r=n.activePanels.list.indexOf(o);r>-1&&n.activePanels.list.splice(r,1),n.remMinReplacement(e),"modal"===e.option.paneltype&&n.removeModalBackdrop(e),e.option.paneltype.tooltip&&s.classList.remove("hasTooltip"),jQuery(document).trigger("jspanelclosed",o),jQuery(document).trigger("jspanelstatuschange",o),n.lastbeforeclose&&(i=n.lastbeforeclose.parent,a=jQuery("."+n.lastbeforeclose.class,i),l=n.lastbeforeclose.class),a&&(a.each((function(e,t){t.classList.remove(l)})),a.each((function(t,o){n.position(o,e.option.position)}))),n.lastbeforeclose=!1,!0===t[2]?jQuery.noop():jQuery.isFunction(e.option.onclosed)&&e.option.onclosed.call(e,e),t[0]&&jQuery.isFunction(t[0])&&t[0].call(e,e),n.resetZis()}}if(jQuery(document).trigger("jspanelbeforeclose",o),jQuery.isFunction(e.option.onbeforeclose))if(!0===t[1])jQuery.noop();else if(!1===e.option.onbeforeclose.call(e,e))return e;i&&"number"==typeof i&&i>0?window.setTimeout((function(){l(e,t[0],t[2])}),i):l(e,t[0],t[2])},closeChildpanels:e=>(jQuery(".jsPanel",e).each((e,t)=>{t.jspanel.close()}),e),closePanels(e){jQuery(".jsPanel-"+e).each((e,t)=>{t.jspanel&&t.jspanel.close()})},calcPositionFactors(e){"body"===e.option.container?(e.hf=parseInt(e.css("left"),10)/(jQuery(window).outerWidth()-e.outerWidth()),e.vf=parseInt(e.css("top"),10)/(jQuery(window).outerHeight()-e.outerHeight())):(e.hf=parseInt(e.css("left"),10)/(e.parent().outerWidth()-e.outerWidth()),e.vf=parseInt(e.css("top"),10)/(e.parent().outerHeight()-e.outerHeight()))},color(e){let t,o,n,s,i,a,l,r,c,d=e.toLowerCase(),p={};const f=/^rgba?\(([0-9]{1,3}),([0-9]{1,3}),([0-9]{1,3}),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,h=/^hsla?\(([0-9]{1,3}),([0-9]{1,3}\%),([0-9]{1,3}\%),?(0|1|0\.[0-9]{1,2}|\.[0-9]{1,2})?\)$/gi,u={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};return u[d]&&(d=u[d]),null!==d.match(/^#?([0-9a-f]{3}|[0-9a-f]{6})$/gi)?(d=d.replace("#",""),d.length%2==1?(t=String(d.substr(0,1))+d.substr(0,1),o=String(d.substr(1,1))+d.substr(1,1),n=String(d.substr(2,1))+d.substr(2,1),p.rgb={r:parseInt(t,16),g:parseInt(o,16),b:parseInt(n,16)},p.hex=`#${t}${o}${n}`):(p.rgb={r:parseInt(d.substr(0,2),16),g:parseInt(d.substr(2,2),16),b:parseInt(d.substr(4,2),16)},p.hex="#"+d),c=this.rgbToHsl(p.rgb.r,p.rgb.g,p.rgb.b),p.hsl=c,p.rgb.css=`rgb(${p.rgb.r},${p.rgb.g},${p.rgb.b})`):d.match(f)?(l=f.exec(d),p.rgb={css:d,r:l[1],g:l[2],b:l[3]},p.hex=this.rgbToHex(l[1],l[2],l[3]),c=this.rgbToHsl(l[1],l[2],l[3]),p.hsl=c):d.match(h)?(l=h.exec(d),s=l[1]/360,i=l[2].substr(0,l[2].length-1)/100,a=l[3].substr(0,l[3].length-1)/100,r=this.hslToRgb(s,i,a),p.rgb={css:`rgb(${r[0]},${r[1]},${r[2]})`,r:r[0],g:r[1],b:r[2]},p.hex=this.rgbToHex(p.rgb.r,p.rgb.g,p.rgb.b),p.hsl={css:`hsl(${l[1]},${l[2]},${l[3]})`,h:l[1],s:l[2],l:l[3]}):(p.hex="#f5f5f5",p.rgb={css:"rgb(245,245,245)",r:245,g:245,b:245},p.hsl={css:"hsl(0,0%,96.08%)",h:0,s:"0%",l:"96.08%"}),p},configIconfont(e){const t=["remove","fullscreen","resize-full","minus","chevron-up","chevron-down"],o=["times fa-window-close","arrows-alt fa-window-maximize","expand fa-window-restore","minus fa-window-minimize","chevron-up","chevron-down"],n=["close","fullscreen","fullscreen_exit","call_received","expand_less","expand_more"],s=e.option.headerControls.iconfont,i=e.header.headerbar;"bootstrap"===s||"glyphicon"===s?this.controls.forEach((e,o)=>{jQuery(`.jsPanel-btn-${e} span`,i).removeClass().addClass("glyphicon glyphicon-"+t[o])}):"font-awesome"===s?this.controls.forEach((e,t)=>{jQuery(`.jsPanel-btn-${e} span`,i).removeClass().addClass("fa fa-"+o[t])}):"material-icons"===s?this.controls.forEach((e,t)=>{jQuery(`.jsPanel-btn-${e} span`,i).removeClass().addClass("material-icons").text(n[t])}):Array.isArray(s)&&this.controls.forEach((e,t)=>{jQuery(`.jsPanel-btn-${e} span`,i).removeClass().addClass("custom-control-icon "+s[t])})},configToolbar(e,t,o){e.forEach(e=>{if("object"==typeof e){const n=jQuery(e.item);if("string"==typeof e.btntext&&n.append(e.btntext),"string"==typeof e.btnclass&&e.btnclass.split(" ").forEach((function(e){n[0].classList.add(e)})),t.append(n),jQuery.isFunction(e.callback)){const t=e.event||"click";n.on(t,o,e.callback)}}})},contentReload(e,t){return e.option.content?e.content.empty().append(e.option.content):e.option.contentAjax?(e.content.empty(),this.ajax(e)):e.option.contentIframe&&(e.content.empty(),this.iframe(e)),t&&jQuery.isFunction(t)&&t.call(e,e),e},contentResize(e,t){const o=e.footer[0].classList.contains("active")?e.header.outerHeight()+e.footer.outerHeight():e.header.outerHeight(),n=parseInt(e.css("border-top-width"),10)+parseInt(e.css("border-bottom-width"),10);return e.content.css({height:e.outerHeight()-o-n}),t&&jQuery.isFunction(t)&&t.call(e,e),e},createMinimizedReplacement(e){const t=jQuery(this.replacementTemplate),o=e.header.title.css("color"),n=e.header.title[0].textContent;let s;s="transparent"===e.header.css("background-color")?e.css("background-color"):e.header.css("background-color"),e.css("left","-9999px").data("status","minimized"),t.css("background-color",s).prop("id",e.prop("id")+"-min").find("h3").css("color",o).prop("title",n).html(n),e.header.logo.children().length&&jQuery(".jsPanel-headerbar",t).prepend(e.header.logo.clone());const i=e.option.headerControls.iconfont;return"font-awesome"===i?(jQuery(".jsglyph.jsglyph-normalize",t).removeClass().addClass("fa fa-expand fa-window-restore"),jQuery(".jsglyph.jsglyph-maximize",t).removeClass().addClass("fa fa-arrows-alt fa-window-maximize"),jQuery(".jsglyph.jsglyph-close",t).removeClass().addClass("fa fa-times fa-window-close")):"bootstrap"===i||"glyphicon"===i?(jQuery(".jsglyph.jsglyph-normalize",t).removeClass().addClass("glyphicon glyphicon-resize-full"),jQuery(".jsglyph.jsglyph-maximize",t).removeClass().addClass("glyphicon glyphicon-fullscreen"),jQuery(".jsglyph.jsglyph-close",t).removeClass().addClass("glyphicon glyphicon-remove")):"material-icons"===i?(jQuery(".jsglyph.jsglyph-normalize",t).removeClass().addClass("material-icons").text("call_made"),jQuery(".jsglyph.jsglyph-maximize",t).removeClass().addClass("material-icons").text("fullscreen"),jQuery(".jsglyph.jsglyph-close",t).removeClass().addClass("material-icons").text("close")):Array.isArray(i)&&(jQuery(".jsglyph.jsglyph-normalize",t).removeClass().addClass("custom-control-icon "+i[2]),jQuery(".jsglyph.jsglyph-maximize",t).removeClass().addClass("custom-control-icon "+i[1]),jQuery(".jsglyph.jsglyph-close",t).removeClass().addClass("custom-control-icon "+i[0])),jQuery(".jsPanel-btn span",t).css({color:o}),t},darken(e,t){const o=this.color(e).hsl,n=parseFloat(o.l),s=n-n*t+"%";return`hsl(${o.h},${o.s},${s})`},dblclickhelper(e,t){"string"==typeof e&&("maximize"===e||"normalize"===e?"normalized"===t.data("status")?t.maximize():t.normalize():"minimize"!==e&&"smallify"!==e&&"close"!==e||t[e]())},dragit(e,t={}){let o;o="string"==typeof e?document.querySelector(e):e.jquery?e[0]:e;let s,i,a,l,r,c,d,p,f,h=e.jquery?e:o,u=Object.assign({},jQuery.jsPanel.defaults.dragit,t),m=u.containment,g=o.parentElement,b=window.getComputedStyle(o,null).getPropertyValue("position"),j=g.tagName.toLowerCase(),y=o.querySelector(".jsPanel-content"),P=[];n.isIE?(r=document.createEvent("CustomEvent"),c=document.createEvent("CustomEvent"),d=document.createEvent("CustomEvent"),r.initCustomEvent("dragstart",!0,!0,{}),c.initCustomEvent("drag",!0,!0,{}),d.initCustomEvent("dragstop",!0,!0,{})):(r=new Event("dragstart"),c=new Event("drag"),d=new Event("dragstop")),l=u.handles?o.querySelectorAll(u.handles):[o],"number"==typeof m?m=[].concat(m,m,m,m):"[object Array]"===Object.prototype.toString.call(m)&&(2===m.length?m=m.concat(m):3===m.length&&(m[3]=m[1])),"[object Array]"===Object.prototype.toString.call(m)&&(i=m,u.containment=m="body"===j?"window":"parent"),m&&"body"===j&&(u.containment=m="window");for(let e=0;e<l.length;e++)n.evtStart.forEach((function(t){l[e].addEventListener(t,(function(e){if(e.preventDefault(),e.button&&e.button>0)return!1;P=Array.prototype.slice.call(document.querySelectorAll("iframe")),P.length&&P.forEach((function(e){e.style.pointerEvents="none"}));let t,l,d,y,w,v,z=o.getBoundingClientRect(),x=g.getBoundingClientRect(),Q=window.getComputedStyle(g,null),C=Q.getPropertyValue("position"),E=parseInt(Q.getPropertyValue("border-left-width"),10),k=parseInt(Q.getPropertyValue("border-right-width"),10),L=parseInt(Q.getPropertyValue("border-top-width"),10),O=parseInt(Q.getPropertyValue("border-bottom-width"),10),T=e.touches?e.touches[0].pageX:e.pageX,F=e.touches?e.touches[0].pageY:e.pageY,S=window.scrollX||window.pageXOffset,X=window.scrollY||window.pageYOffset;"fixed"===b||"body"===j||"static"===C?(t=z.left,l=z.top):"body"!==j&&(t=z.left-x.left-E+g.scrollLeft,l=z.top-x.top-L+g.scrollTop),"body"===j&&m?"fixed"===b?(d=0,w=0,y=document.documentElement.clientWidth-z.width,v=document.documentElement.clientHeight-z.height):(d=S,w=X,y=document.documentElement.clientWidth-z.width+S,v=document.documentElement.clientHeight-z.height+X):"parent"===m?"static"===C?(d=x.left+E+S,w=x.top+L+X,y=d+x.width-z.width-E-k,v=w+x.height-z.height-L-O):(d=0,w=0,y=x.width-z.width-E-k,v=x.height-z.height-L-O):"window"===m&&("static"===C?(d=S,w=X,y=document.documentElement.clientWidth-z.width+S,v=document.documentElement.clientHeight-z.height+X):(d=-x.left-E,w=-x.top-L,y=document.documentElement.clientWidth-x.left-z.width-k,v=document.documentElement.clientHeight-x.top-z.height-O)),i&&(d+=i[3],w+=i[0],y-=i[1],v-=i[2]);let Y=parseFloat(o.style.left)-z.left,I=parseFloat(o.style.top)-z.top;g!==document.body&&(Y+=x.left,I+=x.top),a=function(n){if(e.preventDefault(),u.disableOnMaximized&&"maximized"===jQuery(o).data("status"))return!1;if(s||(document.dispatchEvent(r),o.style.opacity=u.opacity,"function"==typeof u.start&&u.start.call(h,h,{left:t,top:l})),s=1,document.dispatchEvent(c),p=E+t+(n.touches?n.touches[0].pageX:n.pageX)-T+Y,f=L+l+(n.touches?n.touches[0].pageY:n.pageY)-F+I,p<=d?p=d:p>=y&&(p=y),f<=w?f=w:f>=v&&(f=v),"x"===u.axis?o.style.left=p+"px":("y"===u.axis||(o.style.left=p+"px"),o.style.top=f+"px"),u.grid&&Array.isArray(u.grid)){1===u.grid.length&&(u.grid[1]=u.grid[0]);let e=parseFloat(o.style.left),t=parseFloat(o.style.top),n=e%u.grid[0],s=t%u.grid[1];n<u.grid[0]/2?o.style.left=e-n+"px":o.style.left=e+(u.grid[0]-n)+"px",s<u.grid[1]/2?o.style.top=t-s+"px":o.style.top=t+(u.grid[1]-s)+"px"}window.getSelection().removeAllRanges(),"function"==typeof u.drag&&u.drag.call(h,h,{left:parseFloat(h.css("left")),top:parseFloat(h.css("top"))})},n.evtMove.forEach((function(e){document.addEventListener(e,a,!1)}))}),!1)}));return n.evtEnd.forEach((function(t){document.addEventListener(t,(function(){n.evtMove.forEach((function(e){document.removeEventListener(e,a,!1)})),s&&(y.style.pointerEvents="inherit",document.dispatchEvent(d),o.style.opacity=1,s=void 0,n.calcPositionFactors(e),"function"==typeof u.stop&&u.stop.call(h,h,{left:parseFloat(h.css("left")),top:parseFloat(h.css("top"))})),P.length&&P.forEach((function(e){e.style.pointerEvents="inherit"}))}),!1)})),h},resizeit(e,t={}){let o;o="string"==typeof e?document.querySelector(e):e.jquery?e[0]:e;let s,i,a,l,r,c,d=e.jquery?e:o,p=Object.assign({},jQuery.jsPanel.defaults.resizeit,t),f=p.containment,h=window.getComputedStyle(o,null),u=h.getPropertyValue("position"),m=parseInt(h.getPropertyValue("border-left-width"),10),g=parseInt(h.getPropertyValue("border-top-width"),10),b=parseInt(h.getPropertyValue("border-right-width"),10),j=parseInt(h.getPropertyValue("border-bottom-width"),10),y=o.parentElement,P=y.tagName.toLowerCase(),w=o.querySelector(".jsPanel-content"),v="function"==typeof p.maxWidth?p.maxWidth():p.maxWidth,z="function"==typeof p.maxHeight?p.maxHeight():p.maxHeight,x="function"==typeof p.minWidth?p.minWidth():p.minWidth,Q="function"==typeof p.minHeight?p.minHeight():p.minHeight,C=[];n.isIE?(l=document.createEvent("CustomEvent"),r=document.createEvent("CustomEvent"),c=document.createEvent("CustomEvent"),l.initCustomEvent("dragstart",!0,!0,{}),r.initCustomEvent("drag",!0,!0,{}),c.initCustomEvent("dragstop",!0,!0,{})):(l=new Event("dragstart"),r=new Event("drag"),c=new Event("dragstop")),"number"==typeof f?f=[].concat(f,f,f,f):"[object Array]"===Object.prototype.toString.call(f)&&(2===f.length?f=f.concat(f):3===f.length&&(f[3]=f[1])),"[object Array]"===Object.prototype.toString.call(f)&&(i=f,p.containment=f="body"===P?"window":"parent"),f&&"body"===P&&(p.containment=f="window"),p.handles.split(",").forEach((function(e){let t=document.createElement("DIV");t.className="jsPanel-resizeit-handle jsPanel-resizeit-"+e.trim(),t.style.zIndex=90,o.appendChild(t)}));let E=o.getElementsByClassName("jsPanel-resizeit-handle");for(let t=0;t<E.length;t++)n.evtStart.forEach((function(c){E[t].addEventListener(c,(function(t){if(t.preventDefault(),t.button&&t.button>0)return!1;C=Array.prototype.slice.call(document.querySelectorAll("iframe")),C.length&&C.forEach((function(e){e.style.pointerEvents="none"}));let c,h,E=o.getBoundingClientRect(),k=y.getBoundingClientRect(),L=window.getComputedStyle(y,null),O=L.getPropertyValue("position"),T=parseInt(L.getPropertyValue("border-left-width"),10),F=parseInt(L.getPropertyValue("border-top-width"),10),S=parseInt(L.getPropertyValue("border-bottom-width"),10),X=t.pageX||t.touches[0].pageX,Y=t.pageY||t.touches[0].pageY,I=window.scrollX||window.pageXOffset,R=E.width,B=E.height,A=t.target,$=1e4,H=1e4,M=1e4,W=1e4;w.style.pointerEvents="none","fixed"===u||"body"===P||"static"===O?(c=E.left-m-b,h=E.top-g-j):"body"!==P&&(c=E.left-k.left-T+y.scrollLeft-m-b,h=E.top-k.top-F+y.scrollTop-g-j),"body"===P&&f?($=document.documentElement.clientWidth-E.left-m-b,M=document.documentElement.clientHeight-E.top-g-j,H=E.width+E.left-m-b,W=E.height+E.top-g-j):"parent"===f?"static"===O?($=k.width-E.left-m-I,M=k.height+k.top-E.top+g-F-S,H=E.width+(E.left-k.left)-T,W=E.height+(E.top-k.top)-F):($=y.clientWidth-(E.left-k.left)+m,M=y.clientHeight-(E.top-k.top)+g,H=E.width+(E.left-k.left)-T-m-b,W=o.clientHeight+(E.top-k.top)-g-g-j):"window"===f&&($=document.documentElement.clientWidth-E.left-m-b,M=document.documentElement.clientHeight-E.top-g-j,H=E.left+E.width-m-b,W=E.top+E.height-g-j),i&&(H-=i[3],W-=i[0],$-=i[1],M-=i[2]);let D=window.getComputedStyle(o),q=parseFloat(D.width)-E.width,N=parseFloat(D.height)-E.height,V=parseFloat(D.left)-E.left,Z=parseFloat(D.top)-E.top;y!==document.body&&(V+=k.left,Z+=k.top),a=function(t){if(t.preventDefault(),s||(document.dispatchEvent(l),"function"==typeof p.start&&p.start.call(d,d,{width:R,height:B})),s=1,document.dispatchEvent(r),A.classList.contains("jsPanel-resizeit-e")){let e=R+(t.pageX||t.touches[0].pageX)-X+q;e>=$&&(e=$),e>=v?e=v:e<=x&&(e=x),o.style.width=e+"px"}else if(A.classList.contains("jsPanel-resizeit-se")){let e=R+(t.pageX||t.touches[0].pageX)-X+q,n=B+(t.pageY||t.touches[0].pageY)-Y+N;e>=$&&(e=$),n>=M&&(n=M),e>=v?e=v:e<=x&&(e=x),n>=z?n=z:n<=Q&&(n=Q),o.style.width=e+"px",o.style.height=n+"px"}else if(A.classList.contains("jsPanel-resizeit-s")){let e=B+(t.pageY||t.touches[0].pageY)-Y+N;e>=M&&(e=M),e>=z?e=z:e<=Q&&(e=Q),o.style.height=e+"px"}else if(A.classList.contains("jsPanel-resizeit-w")){let e=R+X-(t.pageX||t.touches[0].pageX)+q;e<=v&&e>=x&&e<=H&&(o.style.left=c+T+(t.pageX||t.touches[0].pageX)-X+V+"px"),e>=H&&(e=H),e>=v?e=v:e<=x&&(e=x),o.style.width=e+"px"}else if(A.classList.contains("jsPanel-resizeit-n")){let e=B+Y-(t.pageY||t.touches[0].pageY)+N;e<=z&&e>=Q&&e<=W&&(o.style.top=h+F+(t.pageY||t.touches[0].pageY)-Y+Z+"px"),e>=W&&(e=W),e>=z?e=z:e<=Q&&(e=Q),o.style.height=e+"px"}else if(A.classList.contains("jsPanel-resizeit-sw")){let e=B+(t.pageY||t.touches[0].pageY)-Y+N;e>=M&&(e=M),e>=z?e=z:e<=Q&&(e=Q),o.style.height=e+"px";let n=R+X-(t.pageX||t.touches[0].pageX)+q;n<=v&&n>=x&&n<=H&&(o.style.left=c+T+(t.pageX||t.touches[0].pageX)-X+V+"px"),n>=H&&(n=H),n>=v?n=v:n<=x&&(n=x),o.style.width=n+"px"}else if(A.classList.contains("jsPanel-resizeit-nw")){let e=B+Y-(t.pageY||t.touches[0].pageY)+N;e<=z&&e>=Q&&e<=W&&(o.style.top=h+F+(t.pageY||t.touches[0].pageY)-Y+Z+"px"),e>=W&&(e=W),e>=z?e=z:e<=Q&&(e=Q),o.style.height=e+"px";let n=R+X-(t.pageX||t.touches[0].pageX)+q;n<=v&&n>=x&&n<=H&&(o.style.left=c+T+(t.pageX||t.touches[0].pageX)-X+V+"px"),n>=H&&(n=H),n>=v?n=v:n<=x&&(n=x),o.style.width=n+"px"}else if(A.classList.contains("jsPanel-resizeit-ne")){let e=B+Y-(t.pageY||t.touches[0].pageY)+N;e<=z&&e>=Q&&e<=W&&(o.style.top=h+F+(t.pageY||t.touches[0].pageY)-Y+Z+"px"),e>=W&&(e=W),e>=z?e=z:e<=Q&&(e=Q),o.style.height=e+"px";let n=R+(t.pageX||t.touches[0].pageX)-X+q;n>=$&&(n=$),n>=v?n=v:n<=x&&(n=x),o.style.width=n+"px"}n.contentResize(e),window.getSelection().removeAllRanges(),"function"==typeof p.resize&&p.resize.call(d,d,{width:parseFloat(d.css("width")),height:parseFloat(d.css("height"))})},n.evtMove.forEach((function(e){document.addEventListener(e,a,!1)})),window.addEventListener("mouseout",(function(e){null===e.relatedTarget&&n.evtMove.forEach((function(e){document.removeEventListener(e,a,!1)}))}),!1)}),!1)}));return n.evtEnd.forEach((function(t){document.addEventListener(t,(function(t){if(t.target.classList&&t.target.classList.contains("jsPanel-resizeit-handle")){let s,i,a=t.target.className;if(a.match(/jsPanel-resizeit-nw|jsPanel-resizeit-w|jsPanel-resizeit-sw/i)&&(s=!0),a.match(/jsPanel-resizeit-nw|jsPanel-resizeit-n|jsPanel-resizeit-ne/i)&&(i=!0),p.grid&&Array.isArray(p.grid)){1===p.grid.length&&(p.grid[1]=p.grid[0]);let e=parseFloat(o.style.width),t=parseFloat(o.style.height),n=e%p.grid[0],a=t%p.grid[1],l=parseFloat(o.style.left),r=parseFloat(o.style.top),c=l%p.grid[0],d=r%p.grid[1];n<p.grid[0]/2?o.style.width=e-n+"px":o.style.width=e+(p.grid[0]-n)+"px",a<p.grid[1]/2?o.style.height=t-a+"px":o.style.height=t+(p.grid[1]-a)+"px",s&&(c<p.grid[0]/2?o.style.left=l-c+"px":o.style.left=l+(p.grid[0]-c)+"px"),i&&(d<p.grid[1]/2?o.style.top=r-d+"px":o.style.top=r+(p.grid[1]-d)+"px")}n.contentResize(e)}n.evtMove.forEach((function(e){document.removeEventListener(e,a,!1)})),s&&(w.style.pointerEvents="inherit",document.dispatchEvent(c),s=void 0,("smallified"===jQuery(o).data("status")||"smallifiedMax"===jQuery(o).data("status"))&&jQuery(o).height()>jQuery(o).header.height()&&(jQuery(o).hideControls([".jsPanel-btn-normalize",".jsPanel-btn-smallifyrev"]),jQuery(o).data("status","normalized"),jQuery(document).trigger("jspanelnormalized"),jQuery(document).trigger("jspanelstatuschange")),n.calcPositionFactors(e),"function"==typeof p.stop&&p.stop.call(d,d,{width:parseFloat(d.css("width")),height:parseFloat(d.css("height"))})),C.length&&C.forEach((function(e){e.style.pointerEvents="inherit"}))}),!1)})),d},exportPanels(e=".jsPanel",t="jspanels"){let o=[];const n=jQuery(".jsPanel").not(".jsPanel-tooltip, .jsPanel-hint, .jsPanel-modal").filter(e);return n.each((e,t)=>{"normalized"!==jQuery(t).data("status")&&jQuery(".jsPanel-btn-normalize",t).trigger("click")}),n.each((e,t)=>{let n,s,i,a,l;const r=jQuery(t).data("container"),c=jQuery(t).offset(),d=jQuery(t).position();switch("minimized"===jQuery(t).data("status")?("body"===r.toLowerCase()?(n=jQuery(t).data("paneltop")-jQuery(window).scrollTop(),s=jQuery(t).data("panelleft")-jQuery(window).scrollLeft()):(n=jQuery(t).data("paneltop"),s=jQuery(t).data("panelleft")),i=jQuery(t).data("panelwidth"),a=jQuery(t).data("panelheight")):("body"===r.toLowerCase()?(n=Math.floor(c.top-jQuery(window).scrollTop()),s=Math.floor(c.left-jQuery(window).scrollLeft())):(n=Math.floor(d.top),s=Math.floor(d.left)),i=jQuery(t).css("width"),a=jQuery(".jsPanel-content",t).css("height")),l={status:jQuery(t).data("status"),id:jQuery(t).prop("id"),headerTitle:jQuery(".jsPanel-title",t).html(),custom:jQuery(t).data("custom"),content:jQuery(t).data("content"),contentSize:{width:i,height:a},position:{my:"left-top",at:"left-top",offsetX:s,offsetY:n}},jQuery(t).data("ajaxURL")&&(l.contentAjax={url:jQuery(t).data("ajaxURL"),autoload:!0}),(jQuery(t).data("iframeDOC")||jQuery(t).data("iframeSRC"))&&(l.contentIframe={src:jQuery(t).data("iframeSRC")||"",srcdoc:jQuery(t).data("iframeDOC")||""}),o.push(l),l.status){case"minimized":jQuery(".jsPanel-btn-minimize",t).trigger("click");break;case"maximized":jQuery(".jsPanel-btn-maximize",t).trigger("click");break;case"smallified":case"smallifiedMax":jQuery(".jsPanel-btn-smallify",t).trigger("click")}}),window.localStorage.setItem(t,JSON.stringify(o)),o},front(e,t){if(e.css("z-index",this.setZi(e)),this.resetZis(),jQuery(document).trigger("jspanelfronted",e.prop("id")),jQuery.isFunction(e.option.onfronted)){if(!1===e.option.onfronted.call(e,e))return e;e.option.onfronted.call(e,e)}return t&&jQuery.isFunction(t)&&t.call(e,e),e},getThemeDetails(e){const t={color:!1,colors:!1,filling:!1,bs:!1,bstheme:!1};if("filled"===e.substr(-6,6)?(t.filling="filled",t.color=e.substr(0,e.length-6)):"filledlight"===e.substr(-11,11)?(t.filling="filledlight",t.color=e.substr(0,e.length-11)):(t.filling="",t.color=e),t.colors=this.calcColors(t.color),t.color.match("-")){const e=t.color.split("-");t.bs=e[0],t.bstheme=e[1],t.mdbStyle=e[2]||void 0}return t},getTopmostPanel(){let e=[];return jQuery(".jsPanel:not(.jsPanel-tooltip):not(.jsPanel-hint)").each((function(t,o){e.push(o)})),e.sort((function(e,t){return jQuery(t).css("z-index")-jQuery(e).css("z-index")})),e[0].getAttribute("id")},headerTitle:(e,t)=>t?(e.header.title.empty().append(t),e):e.header.title.html(),headerControl(e,t,o="enable"){return t?this.setControlStatus(e,t,o):this.controls.forEach((function(t){n.setControlStatus(e,t)})),e},hslToRgb(e,t,o){let n,s,i;if(0===t)n=s=i=o;else{let a=function(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*(t-e)*o:o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e},l=o<.5?o*(1+t):o+t-o*t,r=2*o-l;n=a(r,l,e+1/3),s=a(r,l,e),i=a(r,l,e-1/3)}return[Math.round(255*n),Math.round(255*s),Math.round(255*i)]},iframe(e){let t=jQuery("<iframe></iframe>");const o=e.option.contentIframe;o.srcdoc&&(t.prop("srcdoc",o.srcdoc),e.data("iframeDOC",o.srcdoc)),o.src&&(t.prop("src",o.src),e.data("iframeSRC",o.src)),"auto"===e.option.contentSize.width||o.width?t.prop("width",o.width):t.css("width","100%"),"auto"===e.option.contentSize.height||o.height?t.prop("height",o.height):t.css("height","100%"),o.name&&t.prop("name",o.name),o.sandbox&&t.prop("sandox",o.sandbox),o.id&&t.prop("id",o.id),jQuery.isPlainObject(o.style)&&t.css(o.style),"string"==typeof o.classname?t.addClass(o.classname):jQuery.isFunction(o.classname)&&t.addClass(o.classname()),e.content.append(t)},importPanels(e,t="jspanels"){const o=e.default||{};let n;JSON.parse(localStorage[t]).forEach(t=>{n="string"==typeof t.custom.config?jQuery.extend(!0,{},o,e[t.custom.config],t):jQuery.extend(!0,{},o,t),jQuery.jsPanel(n)})},insertModalBackdrop(e){const t=0===jQuery(".jsPanel-modal-backdrop").length?"jsPanel-modal-backdrop":"jsPanel-modal-backdrop jsPanel-modal-backdrop-multi",o=`<div id="jsPanel-modal-backdrop-${e.attr("id")}" class="${t}" style="z-index:${this.modalcount+9999}"></div>`;jQuery("body").append(o),this.modalcount+=1},removeModalBackdrop(e){const t=jQuery("#jsPanel-modal-backdrop-"+e.attr("id"));t[0].classList.add("jsPanel-modal-backdrop-out");const o=1e3*parseFloat(t.css("animation-duration"),10);window.setTimeout((function(){t.remove()}),o),this.modalcount-=1},lighten(e,t){const o=this.color(e).hsl,n=parseFloat(o.l),s=n+(100-n)*t+"%";return`hsl(${o.h},${o.s},${s})`},maximize(e,t,o=!0){let n=e.option.maximizedMargin,s=e[0].parentNode,i=e.attr("id");if(jQuery.isPlainObject(n)){n=["number"==typeof n.top?n.top:5,"number"==typeof n.right?n.right:5,"number"==typeof n.bottom?n.bottom:5,"number"==typeof n.left?n.left:5]}return"number"==typeof n?n=[].concat(n,n,n,n):jQuery.isArray(n)&&2===n.length?n=n.concat(n):jQuery.isArray(n)&&3===n.length&&(n[3]=n[1]),"normalized"===e.data("status")&&e.updateCachedData(),jQuery(document).trigger("jspanelbeforemaximize",i),jQuery.isFunction(e.option.onbeforemaximize)&&!1===e.option.onbeforemaximize.call(e,e)||(e.css("overflow","visible"),s===document.body?(e.css({width:document.documentElement.clientWidth-n[3]-n[1]+"px",height:document.documentElement.clientHeight-n[0]-n[2]+"px",left:n[3]+"px",top:n[0]+"px"}),!1===e.option.position.fixed&&e.css({left:window.pageXOffset+n[3]+"px",top:window.pageYOffset+n[0]+"px"})):e.css({width:s.clientWidth-n[3]-n[1]+"px",height:s.clientHeight-n[0]-n[2]+"px",left:n[3]+"px",top:n[0]+"px"}),e.contentResize().data("status","maximized"),o&&e.css("z-index",this.setZi(e)),e.hideControls([".jsPanel-btn-maximize",".jsPanel-btn-smallifyrev"]),this.remMinReplacement(e),jQuery(document).trigger("jspanelmaximized",i),jQuery(document).trigger("jspanelstatuschange",i),jQuery.isFunction(e.option.onmaximized)&&e.option.onmaximized.call(e,e),t&&jQuery.isFunction(t)&&t.call(e,e)),e},minimize(e,t){const o=e.attr("id");if("minimized"===e.data("status"))return e;if(jQuery(document).trigger("jspanelbeforeminimize",o),jQuery.isFunction(e.option.onbeforeminimize)&&!1===e.option.onbeforeminimize.call(e,e))return e;const n=e.data("status");"normalized"===n?e.updateCachedData():"smallified"===n&&(e.cachedData.top=e.css("top"),e.cachedData.left=e.css("left"));const s=this.createMinimizedReplacement(e),i=jQuery(e.option.container).closest(".jsPanel-content");if(i.length){let t=".jsPanel-minimized-box";e.option.minimizeTo&&("string"==typeof e.option.minimizeTo?(t=e.option.minimizeTo,jQuery(t).append(s)):jQuery(t,i.parent()).append(s))}else{let t="#jsPanel-replacement-container";e.option.minimizeTo&&("string"==typeof e.option.minimizeTo&&(t=e.option.minimizeTo),jQuery(t).append(s))}return jQuery(document).trigger("jspanelminimized",o),jQuery(document).trigger("jspanelstatuschange",o),jQuery.isFunction(e.option.onminimized)&&e.option.onminimized.call(e,e),t&&jQuery.isFunction(t)&&t.call(e,e),jQuery(".jsPanel-btn-normalize",s).css("display","block").on("click",()=>e.normalize()),"disabled"===e[0].dataset.btnnormalize?jQuery(".jsPanel-btn-normalize",s).css({pointerEvents:"none",opacity:.5,cursor:"default"}):"removed"===e[0].dataset.btnnormalize&&jQuery(".jsPanel-btn-normalize",s).remove(),jQuery(".jsPanel-btn-maximize",s).on("click",()=>e.maximize()),"disabled"===e[0].dataset.btnmaximize?jQuery(".jsPanel-btn-maximize",s).css({pointerEvents:"none",opacity:.5,cursor:"default"}):"removed"===e[0].dataset.btnmaximize&&jQuery(".jsPanel-btn-maximize",s).remove(),jQuery(".jsPanel-btn-close",s).on("click",()=>e.close()),"disabled"===e[0].dataset.btnclose&&jQuery(".jsPanel-btn-close",s).css({pointerEvents:"none",opacity:.5,cursor:"default"}),e},normalize(e,t){const o=e.attr("id");return"normalized"===e.data("status")?e:(jQuery(document).trigger("jspanelbeforenormalize",o),jQuery.isFunction(e.option.onbeforenormalize)&&!1===e.option.onbeforenormalize.call(e,e)?e:"smallified"===e.data("status")?(e.smallify(),jQuery(document).trigger("jspanelnormalized",o),jQuery(document).trigger("jspanelstatuschange",o),jQuery.isFunction(e.option.onnormalized)&&e.option.onnormalized.call(e,e),e):(e.css({left:e.cachedData.left,top:e.cachedData.top,width:e.cachedData.width,height:e.cachedData.height,zIndex:function(){n.setZi(e)},overflow:"visible"}).data("status","normalized").contentResize(),e.hideControls([".jsPanel-btn-normalize",".jsPanel-btn-smallifyrev"]),this.remMinReplacement(e),jQuery(document).trigger("jspanelnormalized",o),jQuery(document).trigger("jspanelstatuschange",o),jQuery.isFunction(e.option.onnormalized)&&e.option.onnormalized.call(e,e),t&&jQuery.isFunction(t)&&t.call(e,e),e))},noscroll(e){e.preventDefault()},perceivedBrightness(e){const t=this.color(e).rgb;return t.r/255*.2627+t.g/255*.678+t.b/255*.0593},position(e,t){let o,s,i,a,l,r,c,d=0,p=0;const f=["left-top","left-center","left-bottom"],h=["center-top","center","center-bottom"],u=["right-top","right-center","right-bottom"],m=["left-top","center-top","right-top"],g=["left-center","center","right-center"],b=["left-bottom","center-bottom","right-bottom"];function j(e){let t;return t=e.jquery?e[0].getBoundingClientRect():"string"==typeof e?document.querySelector(e).getBoundingClientRect():e.getBoundingClientRect(),{width:Math.round(t.width),height:Math.round(t.height),left:Math.round(t.left+window.pageXOffset),top:Math.round(t.top+window.pageYOffset)}}if("string"==typeof t){const e=/\b[a-z]{4,6}-{1}[a-z]{3,6}\b/,o=/DOWN|UP|RIGHT|LEFT/,n=/[+-]?\d+\.?\d*%?/g,s=t.match(e),i=t.match(o),a=t.match(n);let l;l=jQuery.isArray(s)?{my:s[0],at:s[0]}:{my:"center",at:"center"},jQuery.isArray(i)&&(l.autoposition=i[0]),jQuery.isArray(a)&&(l.offsetX=a[0],2===a.length&&(l.offsetY=a[1])),t=l}else{const e=0===t.left||t.left,o=0===t.top||t.top,n=0===t.right||t.right,s=0===t.bottom||t.bottom;e&&o?(t.my="left-top",t.at="left-top",t.offsetX=t.left,t.offsetY=t.top):e&&s?(t.my="left-bottom",t.at="left-bottom",t.offsetX=t.left,t.offsetY=-t.bottom):n&&o?(t.my="right-top",t.at="right-top",t.offsetX=-t.right,t.offsetY=t.top):n&&s&&(t.my="right-bottom",t.at="right-bottom",t.offsetX=-t.right,t.offsetY=-t.bottom)}if(i=Object.assign({my:"center",at:"center",offsetX:0,offsetY:0,modify:!1,fixed:"true"},t),o="string"==typeof e?document.querySelector(e):e.jquery?e[0]:e,"boolean"==typeof t&&!1===t)return o.style.opacity=1,o;if(a=o.parentElement||document.body,i.of||(a===document.body?i.of="window":i.of=a),s=j(o),"string"==typeof i.offsetX&&"%"===i.offsetX.slice(-1)?"window"===i.of?i.offsetX=window.innerWidth*(parseInt(i.offsetX,10)/100):i.offsetX=a.clientWidth*(parseInt(i.offsetX,10)/100):"string"==typeof i.offsetX?i.offsetX=parseFloat(i.offsetX):jQuery.isFunction(i.offsetX)&&(i.offsetX=parseInt(i.offsetX.call(e,e),10)),"string"==typeof i.offsetY&&"%"===i.offsetY.slice(-1)?"window"===i.of?i.offsetY=window.innerHeight*(parseInt(i.offsetY,10)/100):i.offsetY=a.clientHeight*(parseInt(i.offsetY,10)/100):"string"==typeof i.offsetY?i.offsetY=parseFloat(i.offsetY):jQuery.isFunction(i.offsetY)&&(i.offsetY=parseInt(i.offsetY.call(e,e),10)),f.indexOf(i.my)>-1?d=0:h.indexOf(i.my)>-1?d=s.width/2:u.indexOf(i.my)>-1&&(d=s.width),m.indexOf(i.my)>-1?p=0:g.indexOf(i.my)>-1?p=s.height/2:b.indexOf(i.my)>-1&&(p=s.height),a===document.body)if("window"===i.of){const e=function(e){let t={};return f.indexOf(e)>-1?t.left=window.pageXOffset:h.indexOf(e)>-1?t.left=window.pageXOffset+document.documentElement.clientWidth/2:u.indexOf(e)>-1?t.left=window.pageXOffset+document.documentElement.clientWidth:t.left=window.pageXOffset,m.indexOf(e)>-1?t.top=window.pageYOffset:g.indexOf(e)>-1?t.top=window.pageYOffset+window.innerHeight/2:b.indexOf(e)>-1?t.top=window.pageYOffset+window.innerHeight:t.top=window.pageYOffset,t}(i.at);i.fixed?(r=e.left-d+i.offsetX-window.pageXOffset,c=e.top-p+i.offsetY-window.pageYOffset):(r=e.left-d+i.offsetX,c=e.top-p+i.offsetY)}else{const e=function(e){let t={},o=j(i.of);return f.indexOf(e)>-1?t.left=o.left:h.indexOf(e)>-1?t.left=o.left+o.width/2:u.indexOf(e)>-1?t.left=o.left+o.width:t.left=o.left,m.indexOf(e)>-1?t.top=o.top:g.indexOf(e)>-1?t.top=o.top+o.height/2:b.indexOf(e)>-1?t.top=o.top+o.height:t.top=o.top,t}(i.at);r=e.left-d+i.offsetX,c=e.top-p+i.offsetY}else{let e,t;t="string"==typeof i.of?document.querySelector(i.of):i.of.jquery?i.of[0]:i.of,a===t?(e=function(e){let t={},o=a.getBoundingClientRect();return f.indexOf(e)>-1?t.left=0:h.indexOf(e)>-1?t.left=o.width/2:u.indexOf(e)>-1?t.left=o.width:t.left=0,m.indexOf(e)>-1?t.top=0:g.indexOf(e)>-1?t.top=o.height/2:b.indexOf(e)>-1?t.top=o.height:t.top=0,t}(i.at),r=e.left-d+i.offsetX,c=e.top-p+i.offsetY):(e=function(e){let t={};const o=a.getBoundingClientRect(),n=document.querySelector(i.of).getBoundingClientRect(),s=n.left-o.left,l=n.top-o.top;return f.indexOf(e)>-1?t.left=s:h.indexOf(e)>-1?t.left=s+n.width/2:u.indexOf(e)>-1?t.left=s+n.width:t.left=s,m.indexOf(e)>-1?t.top=l:g.indexOf(e)>-1?t.top=l+n.height/2:b.indexOf(e)>-1?t.top=l+n.height:t.top=l,t}(i.at),r=e.left-d+i.offsetX,c=e.top-p+i.offsetY)}if(i.autoposition){let e,t=[];i.my===i.at&&(e=i.my),o.classList.add(e),t=Array.prototype.slice.call(a.getElementsByClassName(e)),"DOWN"===i.autoposition?t.forEach((function(e,o){o>0&&(c+=t[--o].getBoundingClientRect().height+n.autopositionSpacing)})):"UP"===i.autoposition?t.forEach((function(e,o){o>0&&(c-=t[--o].getBoundingClientRect().height+n.autopositionSpacing)})):"RIGHT"===i.autoposition?t.forEach((function(e,o){o>0&&(r+=t[--o].getBoundingClientRect().width+n.autopositionSpacing)})):"LEFT"===i.autoposition&&t.forEach((function(e,o){o>0&&(r-=t[--o].getBoundingClientRect().width+n.autopositionSpacing)}))}return l={left:r,top:c},(i.minLeft||0===i.minLeft)&&"number"==typeof i.minLeft&&l.left<i.minLeft&&(l.left=i.minLeft),(i.maxLeft||0===i.maxLeft)&&"number"==typeof i.maxLeft&&l.left>i.maxLeft&&(l.left=i.maxLeft),(i.minTop||0===i.minTop)&&"number"==typeof i.minTop&&l.top<i.minTop&&(l.top=i.minTop),(i.maxTop||0===i.maxTop)&&"number"==typeof i.maxTop&&l.top>i.maxTop&&(l.top=i.maxTop),"function"==typeof i.modify&&(l=i.modify.call(l,l)),o.style.position="absolute",o.style.left=l.left+"px",o.style.top=l.top+"px","window"===i.of&&i.fixed&&a===document.body&&(o.style.position="fixed"),o},remMinReplacement(e){jQuery(`[id^="${e.prop("id")}-min"]`).remove()},reposition(e,t=e.option.position,o){if("minimized"!==e.data("status")){if(e.option.position=t,e.option.paneltype.tooltip){const t=e.attr("class").split(" ");jQuery.each(t,(function(t,o){0===o.indexOf("jsPanel-tooltip-")&&e.removeClass(o)})),this.setTooltipClass(e),jQuery(".jsPanel-connector",e).remove(),e.option.paneltype.connector&&this.addConnector(e)}this.position(e,t)}return o&&jQuery.isFunction(o)&&o.call(e,e),e},resetZis(){let e=[];jQuery(".jsPanel:not(.jsPanel-modal):not(.jsPanel-hint)").each((function(t,o){e.push(o)})),e.sort((function(e,t){return jQuery(e).css("z-index")-jQuery(t).css("z-index")})).forEach((function(e,t){(n.zi+=1)>jQuery(e).css("z-index")&&jQuery(e).css("z-index",n.ziBase+t)})),this.zi=this.ziBase-1+e.length},resize(e,t){if("minimized"!==e.data("status")){if(jQuery.isFunction(e.option.onbeforeresize)&&!1===e.option.onbeforeresize.call(e,e))return e;if(jQuery.isPlainObject(t)){let o,n,s=jQuery.extend({},!1,jQuery.jsPanel.resizedefaults,t);if(s.width&&"auto"===s.width?(e.content.css("width","auto"),e.css("width","auto"),e.css("width",e.outerWidth())):s.width&&e.css("width",s.width),s.height&&"auto"===s.height?(e.content.css("height","auto"),e.css("height","auto")):s.height&&e.css("height",s.height),o=e.outerWidth(),n=e.outerHeight(),s.minwidth&&o<s.minwidth&&e.css("width",s.minwidth),s.maxwidth&&o>s.maxwidth&&e.css("width",s.maxwidth),s.minheight&&n<s.minheight&&e.css("height",s.minheight),s.maxheight&&n>s.maxheight&&e.css("height",s.maxheight),this.contentResize(e),jQuery.isFunction(e.option.onresized)&&!1===e.option.onresized.call(e,e))return e;s.callback&&jQuery.isFunction(s.callback)&&s.callback.call(e,e)}}return e},rgbToHsl(e,t,o){e/=255,t/=255,o/=255;let n,s,i=Math.max(e,t,o),a=Math.min(e,t,o),l=(i+a)/2;if(i===a)n=s=0;else{let r=i-a;switch(s=l>.5?r/(2-i-a):r/(i+a),i){case e:n=(t-o)/r+(t<o?6:0);break;case t:n=(o-e)/r+2;break;case o:n=(e-t)/r+4}n/=6}return n*=360,s=100*s+"%",l=100*l+"%",{css:"hsl("+n+","+s+","+l+")",h:n,s:s,l:l}},rgbToHex(e,t,o){let n=Number(e).toString(16),s=Number(t).toString(16),i=Number(o).toString(16);return 1===n.length&&(n="0"+n),1===s.length&&(s="0"+s),1===i.length&&(i="0"+i),`#${n}${s}${i}`},setControlStatus(e,t,o="enable"){const n=e.header.headerbar,s=e[0];"disable"===o?"removed"!==s.getAttribute("data-btn"+t)&&(s.setAttribute("data-btn"+t,"disabled"),jQuery(".jsPanel-btn-"+t,n).css({pointerEvents:"none",opacity:.4,cursor:"default"})):"enable"===o?"removed"!==s.getAttribute("data-btn"+t)&&(s.setAttribute("data-btn"+t,"enabled"),jQuery(".jsPanel-btn-"+t,n).css({pointerEvents:"auto",opacity:1,cursor:"pointer"})):"remove"===o&&(jQuery(".jsPanel-btn-"+t,n).remove(),s.setAttribute("data-btn"+t,"removed"))},setTooltipClass(e){const t=e.option.position.my+e.option.position.at;"center-bottomcenter-top"===t?e[0].classList.add("jsPanel-tooltip-top"):"left-bottomright-top"===t?e[0].classList.add("jsPanel-tooltip-righttopcorner"):"left-centerright-center"===t?e[0].classList.add("jsPanel-tooltip-right"):"left-topright-bottom"===t?e[0].classList.add("jsPanel-tooltip-rightbottomcorner"):"center-topcenter-bottom"===t?e[0].classList.add("jsPanel-tooltip-bottom"):"right-topleft-bottom"===t?e[0].classList.add("jsPanel-tooltip-leftbottomcorner"):"right-centerleft-center"===t?e[0].classList.add("jsPanel-tooltip-left"):"right-bottomleft-top"===t?e[0].classList.add("jsPanel-tooltip-lefttopcorner"):"centercenter"===t?e[0].classList.add("jsPanel-tooltip-center"):"right-topleft-top"===t?e[0].classList.add("jsPanel-tooltip-lefttop"):"right-bottomleft-bottom"===t?e[0].classList.add("jsPanel-tooltip-leftbottom"):"left-bottomleft-top"===t?e[0].classList.add("jsPanel-tooltip-topleft"):"right-bottomright-top"===t?e[0].classList.add("jsPanel-tooltip-topright"):"left-topright-top"===t?e[0].classList.add("jsPanel-tooltip-righttop"):"left-bottomright-bottom"===t?e[0].classList.add("jsPanel-tooltip-rightbottom"):"left-topleft-bottom"===t?e[0].classList.add("jsPanel-tooltip-bottomleft"):"right-topright-bottom"===t&&e[0].classList.add("jsPanel-tooltip-bottomright")},setTooltipMode(e,t){"semisticky"===e.option.paneltype.mode?e.hover(()=>jQuery.noop(),()=>{e.close(),t.classList.remove("hasTooltip")}):"sticky"===e.option.paneltype.mode?jQuery.noop():jQuery(t).mouseout(()=>{e.close(),t.classList.remove("hasTooltip")})},setTrigger(e){const t=e.of||"window";return"string"==typeof t?document.querySelector(t):t.jquery?t[0]:t},setZi(e){e[0].classList.contains("jsPanel-modal")||(this.zi+=1)>e.css("z-index")&&e.css("z-index",this.zi)},smallify(e,t){const o=e.attr("id");if("normalized"===e.data("status")||"maximized"===e.data("status")){if("smallified"!==e.data("status")&&"smallifiedMax"!==e.data("status")){if(jQuery(document).trigger("jspanelbeforesmallify",o),jQuery.isFunction(e.option.onbeforesmallify)&&!1===e.option.onbeforesmallify.call(e,e))return e;e.smallify.height=e.outerHeight(),e.css("overflow","hidden"),e.animate({height:e.header.headerbar.outerHeight()+"px"},{done:function(){"maximized"===e.data("status")?(e.hideControls([".jsPanel-btn-maximize",".jsPanel-btn-smallify"]),e.data("status","smallifiedMax"),jQuery(document).trigger("jspanelsmallifiedmax",o)):(e.hideControls([".jsPanel-btn-normalize",".jsPanel-btn-smallify"]),e.data("status","smallified"),jQuery(document).trigger("jspanelsmallified",o)),jQuery.isFunction(e.option.onsmallified)&&e.option.onsmallified.call(e,e),jQuery(document).trigger("jspanelstatuschange",o)}})}}else if("minimized"!==e.data("status")){if(jQuery(document).trigger("jspanelbeforeunsmallify",o),jQuery.isFunction(e.option.onbeforeunsmallify)&&!1===e.option.onbeforeunsmallify.call(e,e))return e;e.css("overflow","visible"),e.animate({height:e.smallify.height},{done:function(){"smallified"===e.data("status")?(e.hideControls([".jsPanel-btn-normalize",".jsPanel-btn-smallifyrev"]),e.data("status","normalized"),jQuery(document).trigger("jspanelnormalized",o)):(e.hideControls([".jsPanel-btn-maximize",".jsPanel-btn-smallifyrev"]),e.data("status","maximized"),jQuery(document).trigger("jspanelmaximized",o)),e.contentResize(),jQuery(document).trigger("jspanelunsmallified",o),jQuery(document).trigger("jspanelstatuschange",o),jQuery.isFunction(e.option.onunsmallified)&&e.option.onunsmallified.call(e,e)}})}return e.css("z-index",this.setZi(e)),t&&jQuery.isFunction(t)&&t.call(e,e),e},toolbarAdd(e,t,o,n){return"header"===t?(e.header.toolbar[0].classList.add("active"),jQuery.isArray(o)?this.configToolbar(o,e.header.toolbar,e):jQuery.isFunction(o)?e.header.toolbar.append(o(e.header)):e.header.toolbar.append(o)):"footer"===t&&(e.content[0].classList.remove("jsPanel-content-nofooter"),e.footer[0].classList.add("active"),"none"===e.option.theme&&e.footer.css({background:"transparent",borderTop:"none"}),jQuery.isArray(o)?this.configToolbar(o,e.footer,e):jQuery.isFunction(o)?e.footer.append(o(e.footer)):e.footer.append(o)),this.contentResize(e),n&&jQuery.isFunction(n)&&n.call(e,e),e},contextmenu(e,t,o){let s;s="string"==typeof e?document.querySelector(e):e.jquery?jQuery(e)[0]:e,s.addEventListener("contextmenu",(function(e){e.preventDefault(),e.stopPropagation(),n.closePanels("contextmenu");let s=e.clientX+(window.scrollX||window.pageXOffset),i=e.clientY+(window.scrollY||window.pageYOffset),a=Object.assign({},jQuery.jsPanel.defaults,jQuery.jsPanel.contextmenudefaults,t,{container:"body",position:!1}),l=jQuery.jsPanel(a).css({position:"absolute",left:s,top:i}).addClass("jsPanel-contextmenu").on("mouseleave",(function(e){l.close()})).on("click",(function(e){e.stopPropagation()}));jQuery(e.target).closest(".jsPanel-modal")&&l.css("z-index",jQuery(e.target).closest(".jsPanel-modal").css("z-index")),l[0].cmEvent=e,n.checkContextmenuOverflow(l),o&&jQuery.isFunction(o)&&o.call(l,l)}),!1)},checkContextmenuOverflow(e){let t=e[0].cmEvent.clientX,o=e[0].cmEvent.clientY,n=e.outerWidth(),s=e.outerHeight(),i=window.innerWidth-(t+n),a=window.innerHeight-(o+s);i<0&&e.css("left",t+(window.scrollX||window.pageXOffset)-n),a<0&&e.css("top",o+(window.scrollY||window.pageYOffset)-s)}};"ontouchend"in window?(n.evtStart=["touchstart","mousedown"],n.evtMove=["touchmove","mousemove"],n.evtEnd=["touchend","mouseup"]):(n.evtStart=["mousedown"],n.evtMove=["mousemove"],n.evtEnd=["mouseup"]),function(e){e.jsPanel=function(t){let o,s,i=t||{},a=i.config||{},l=e.extend(!0,{},a,i),r=i.template?e(i.template):a.template?e(a.template):e(n.template);if(delete l.config,e.isArray(l.maximizedMargin)&&!0===l.maximizedMargin[4]){let t,o;l.maximizedMargin.pop(),l.dragit&&(t=l.dragit.containment||l.maximizedMargin,l.dragit=e.extend({},!0,l.dragit,{containment:t})),l.resizeit&&(o=l.resizeit.containment||l.maximizedMargin,l.resizeit=e.extend({},!0,l.resizeit,{containment:o}))}l.position&&e.isFunction(l.position)&&(l.position=l.position()),"tooltip"===l.paneltype&&(l.paneltype={tooltip:!0}),l.paneltype?"modal"===l.paneltype?r.option=e.extend(!0,{},e.jsPanel.defaults,e.jsPanel.modaldefaults,l):l.paneltype.tooltip?r.option=e.extend(!0,{},e.jsPanel.defaults,e.jsPanel.tooltipdefaults,l):"hint"===l.paneltype&&(r.option=e.extend(!0,{},e.jsPanel.defaults,e.jsPanel.hintdefaults,l)):r.option=e.extend(!0,{},e.jsPanel.defaults,l);let{autoclose:c,border:d,callback:p,closeOnEscape:f,container:h,content:u,contentAjax:m,contentIframe:g,contentOverflow:b,contentSize:j,custom:y,dblclicks:P,draggable:w,dragit:v,footerToolbar:z,headerControls:x,headerLogo:Q,headerRemove:C,headerTitle:E,headerToolbar:k,id:L,onwindowresize:O,panelSize:T,paneltype:F,position:S,resizable:X,resizeit:Y,rtl:I,setstatus:R,show:B,theme:A}=r.option;if(F.tooltip&&(s=n.setTrigger(S),s.classList.contains("hasTooltip")))return!1;if("string"==typeof L?o=L:"function"==typeof L&&(o=L()),e("#"+o).length>0)return console.warn("jsPanel Error: No jsPanel created - id attribute passed with option.id already exists in document"),e("#"+o)[0].jspanel.front(),!1;if(r[0].id=o,r.data("custom",y),r.header=e(".jsPanel-hdr",r),r.header.headerbar=e(".jsPanel-headerbar",r.header),r.header.logo=e(".jsPanel-headerlogo",r.header.headerbar),r.header.title=e(".jsPanel-title",r.header.headerbar),r.header.controls=e(".jsPanel-controlbar",r.header.headerbar),r.header.toolbar=e(".jsPanel-hdr-toolbar",r.header),r.content=e(".jsPanel-content",r),r.footer=e(".jsPanel-ftr",r),r.data("status","initialized"),r.cachedData={},r.close=(...e)=>n.close(r,...e),r.closeChildpanels=()=>n.closeChildpanels(r),r.contentReload=e=>n.contentReload(r,e),r.contentResize=e=>n.contentResize(r,e),r.front=e=>n.front(r,e),r.headerControl=(e,t)=>n.headerControl(r,e,t),r.headerTitle=e=>n.headerTitle(r,e),r.hideControls=e=>{Array.prototype.slice.call(r.header.controls[0].getElementsByClassName("jsPanel-btn")).forEach((function(e){e&&(e.style.display="block")})),e.forEach((function(e){r.header.controls[0].querySelector(e)&&(r.header.controls[0].querySelector(e).style.display="none")}))},r.maximize=e=>n.maximize(r,e),r.minimize=e=>n.minimize(r,e),r.normalize=e=>n.normalize(r,e),r.reposition=(e,t)=>n.reposition(r,e,t),r.resize=function(t=e.jsPanel.resizedefaults.width,o=e.jsPanel.resizedefaults.height,s=e.jsPanel.resizedefaults.callback){let i={},a=t;return e.isPlainObject(a)?"content"===a.resize&&(String(a.height).match(/[^0-9\.]/)||(a.height+="px"),String(a.width).match(/[^0-9\.]/)||(a.width+="px"),a.height=`calc(${a.height} + ${r.header.outerHeight()+"px"} + ${r.css("border-top-width")} + ${r.css("border-bottom-width")})`,a.width=`calc(${a.width} + ${r.css("border-left-width")} + ${r.css("border-right-width")})`):(i.width=t,i.height=o,i.callback=s,a=e.extend({},!1,e.jsPanel.resizedefaults,i)),n.resize(r,a),r},r.setTheme=(t=A.toLowerCase().replace(/ /g,""),o)=>{if(t=t.toLowerCase().replace(/ /g,""),n.clearTheme(r),"none"===A)return r.css("background-color","white"),r;const s=n.getThemeDetails(t);return s.bs?n.applyBootstrapTheme(r,s):n.themes.indexOf(s.color)>-1?n.applyBuiltInTheme(r,s):n.applyArbitraryTheme(r,s),d?n.applyThemeBorder(r,s):r.css({borderWidth:"",borderStyle:"",borderColor:""}),o&&e.isFunction(o)&&o.call(r,r),r},r.smallify=e=>n.smallify(r,e),r.toolbarAdd=(e,t,o)=>n.toolbarAdd(r,e,t,o),r.updateCachedData=()=>{r.cachedData.top=r.css("top"),r.cachedData.left=r.css("left"),r.cachedData.width=r.css("width"),r.cachedData.height=r.css("height")},r.dragit=t=>("disable"===t?e(v.handles,r).css("pointer-events","none"):e(v.handles,r).css("pointer-events","auto"),r),r.resizeit=t=>("disable"===t?e(".jsPanel-resizeit-handle",r).css("pointer-events","none"):e(".jsPanel-resizeit-handle",r).css("pointer-events","auto"),r),e(".jsPanel-btn-close",r).on("click",e=>{if(e.preventDefault(),e.button&&e.button>0)return!1;n.close(r)}),e(".jsPanel-btn-minimize",r).on("click",e=>{if(e.preventDefault(),e.button&&e.button>0)return!1;n.minimize(r)}),e(".jsPanel-btn-maximize",r).on("click",e=>{if(e.preventDefault(),e.button&&e.button>0)return!1;n.maximize(r)}),e(".jsPanel-btn-normalize",r).on("click",e=>{if(e.preventDefault(),e.button&&e.button>0)return!1;n.normalize(r)}),e(".jsPanel-btn-smallify, .jsPanel-btn-smallifyrev",r).on("click",e=>{if(e.preventDefault(),e.button&&e.button>0)return!1;n.smallify(r)}),r.appendTo(e(h)[0]),n.activePanels.list.push(o),e(document).trigger("jspanelloaded",o),r.data("container",h),r.setTheme(),C)r.header.remove(),r.content[0].classList.add("jsPanel-content-noheader"),n.controls.forEach(e=>{r[0].setAttribute("data-btn"+e,"removed")});else if("closeonly"===x.controls?n.controls.forEach(e=>{"close"!==e&&n.setControlStatus(r,e,"remove")}):"none"===x.controls?n.controls.forEach(e=>{n.setControlStatus(r,e,"remove")}):n.controls.forEach(e=>{"disable"===x[e]?n.setControlStatus(r,e,"disable"):"remove"===x[e]?n.setControlStatus(r,e,"remove"):r[0].setAttribute("data-btn"+e,"enabled")}),Q){let e=Q;"string"==typeof e&&"<"!==e.substring(0,1)?r.header.logo.append(`<img src="${e}" alt="logo">`):r.header.logo.append(e)}(C||e(".jsPanel-hdr").length<1)&&r.content.css("border","none"),n.configIconfont(r),"modal"===F?(n.insertModalBackdrop(r),r[0].classList.add("jsPanel-modal"),r.css("z-index",n.modalcount+9999)):"hint"===F?(r[0].classList.add("jsPanel-hint"),r.css("z-index",1e4)):F.tooltip&&(s=n.setTrigger(S),r[0].classList.add("jsPanel-tooltip"),n.setTooltipClass(r),F.solo&&n.closePanels("tooltip"),n.setTooltipMode(r,s),e(s).closest(".jsPanel-modal")&&(r[0].style.zIndex=e(s).closest(".jsPanel-modal").css("z-index"))),F.tooltip&&s.classList.add("hasTooltip"),k&&!C&&r.toolbarAdd("header",k),z&&r.toolbarAdd("footer",z),u&&(r.content.append(u),r.data("content",u)),m&&(r.option.contentAjax="string"==typeof m?{url:m,autoload:!0,autoresize:!0,autoreposition:!0}:Object.assign({autoresize:!0,autoreposition:!0},m),n.ajax(r)),e.isPlainObject(g)&&(g.src||g.srcdoc)&&n.iframe(r),F.connector&&n.addConnector(r);let $=T||j,H=$;if("string"==typeof $){$=$.trim().split(/\s{1,}/);for(let e=0;e<$.length;e++)$[e].match(/^\d{1,}$/)&&($[e]=parseInt($[e],10));H={width:$[0]||e.jsPanel.defaults.contentSize.width,height:$[1]||e.jsPanel.defaults.contentSize.height}}return 0===H.height&&(H.height="0"),T?(r.css({width:H.width,height:H.height}),r.contentResize()):r.content.css({width:H.width,height:H.height}),r.css({width:function(){return e(".jsPanel-content",r).length>0?r.content.outerWidth()+"px":j.width||e.jsPanel.defaults.contentSize.width},zIndex:function(){n.setZi(r)}}),r.content.css("width","100%"),S&&(n.position(r,S),n.calcPositionFactors(r)),r.css("opacity",1),r.data("status","normalized"),e(document).trigger("jspanelstatuschange",o),F||P&&(P.title&&r.header.headerbar.on("dblclick",e=>{e.preventDefault(),n.dblclickhelper(P.title,r)}),P.content&&r.content.on("dblclick",e=>{e.preventDefault(),n.dblclickhelper(P.content,r)}),P.footer&&r.footer.on("dblclick",e=>{e.preventDefault(),n.dblclickhelper(P.footer,r)})),"string"==typeof b?r.content.css("overflow",b):e.isPlainObject(b)&&r.content.css({"overflow-y":b.vertical||b["overflow-y"],"overflow-x":b.horizontal||b["overflow-x"]}),e.ui&&e.ui.draggable&&!v.disableui?e.isPlainObject(w)?r.draggable(w):"disabled"===w?(e(".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr",r).css("cursor","default"),r.draggable({disabled:!0})):e(".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr",r).css("cursor","default"):v?(n.dragit(r,v),v.disable&&r.dragit("disable")):e(".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr",r).css("cursor","default"),e.ui&&e.ui.resizable&&!Y.disableui?e.isPlainObject(X)?r.resizable(X):"disabled"===X&&(r.resizable({disabled:!0}),e(".ui-icon-gripsmall-diagonal-se, .ui-resizable-handle.ui-resizable-sw",r).css({"background-image":"none","text-indent":-9999}),e(".ui-resizable-handle",r).css({cursor:"inherit"})):Y&&(n.resizeit(r,Y),Y.disable&&r.resizeit("disable")),!0===I.rtl&&(e(".jsPanel-hdr, .jsPanel-headerbar, .jsPanel-titlebar, .jsPanel-controlbar, .jsPanel-hdr-toolbar, .jsPanel-ftr",r).addClass("jsPanel-rtl"),[r.header.title,r.content,e("*",r.header.toolbar),e("*",r.footer)].forEach(e=>{e.prop("dir","rtl"),I.lang&&e.prop("lang",I.lang)}),e(".ui-icon-gripsmall-diagonal-se",r).css({backgroundImage:"none",textIndent:-9999})),"string"==typeof B&&r.addClass(B).css("opacity",1),r.header.title.empty().prepend(E),r.updateCachedData(),"string"==typeof R&&("maximize smallify"===R?r.maximize().smallify():r[R]()),"number"==typeof c&&c>0&&window.setTimeout(()=>{r&&r.close()},c),e.ui&&e.ui.resizable&&(r.on("resize",()=>n.contentResize(r)),r.on("resizestop",(function(){"smallified"!==r.data("status")&&"smallifiedMax"!==r.data("status")||(r.hideControls([".jsPanel-btn-normalize",".jsPanel-btn-smallifyrev"]),r.data("status","normalized"),e(document).trigger("jspanelnormalized",o),e(document).trigger("jspanelstatuschange",o)),n.calcPositionFactors(r)}))),e.ui&&e.ui.draggable&&r.on("dragstop",()=>n.calcPositionFactors(r)),n.evtStart.forEach((function(t){r.on(t,t=>{if(t.target.classList.contains("jsglyph-close")||t.target.classList.contains("jsglyph-minimize"))return;const o=e(t.target).closest(".jsPanel").css("z-index");!r[0].classList.contains("jsPanel-modal")&&o<=n.zi&&r.front()})})),f&&r[0].setAttribute("data-closeonescape","true"),O&&e(window).resize((function(t){if(t.target===window){let o=O,n=r.data("status");"maximized"!==n||e.isFunction(o)?"normalized"!==n&&"smallified"!==n&&"maximized"!==n||(e.isFunction(o)?o.call(r,t,r):r.reposition({left:function(){let t;return t="body"===this.option.container?(e(window).outerWidth()-this.outerWidth())*this.hf:(this.parent().outerWidth()-this.outerWidth())*this.hf,t<=0?0:t},top:function(){let t;return t="body"===this.option.container?(e(window).outerHeight()-this.outerHeight())*this.vf:(this.parent().outerHeight()-this.outerHeight())*this.vf,t<=0?0:t}})):r.maximize(!1,!1)}})),r[0].jspanel={options:r.option,close(...e){const t=e[0]||!1,o=e[1]||!1,s=e[2]||!1;n.close(r,t,o,s)},normalize:e=>n.normalize(r,e),maximize:e=>n.maximize(r,e),minimize:e=>n.minimize(r,e),smallify:e=>n.smallify(r,e),front:e=>n.front(r,e),closeChildpanels:()=>n.closeChildpanels(r),reposition:(e,t)=>n.reposition(r,e,t),resize:(e,t,o)=>r.resize(e,t,o),contentResize:e=>n.contentResize(r,e),contentReload:e=>n.contentReload(r,e),headerTitle:e=>n.headerTitle(r,e),headerControl:(e,t)=>n.headerControl(r,e,t),toolbarAdd:(e,t,o)=>n.toolbarAdd(r,e,t,o),setTheme:(e,t)=>r.setTheme(e,t),noop:()=>r,dragit:e=>r.dragit(e),resizeit:e=>r.resizeit(e)},p&&e.isFunction(p)?p.call(r,r):e.isArray(p)&&p.forEach(t=>{e.isFunction(t)&&t.call(r,r)}),r},e.jsPanel.defaults={autoclose:!1,border:!1,callback:!1,closeOnEscape:!1,container:"body",content:!1,contentAjax:!1,contentIframe:!1,contentOverflow:"hidden",contentSize:{width:400,height:200},custom:!1,dblclicks:!1,delayClose:0,draggable:{handle:"div.jsPanel-headerlogo, div.jsPanel-titlebar, div.jsPanel-ftr",opacity:.8},dragit:{axis:!1,containment:!1,grid:!1,handles:".jsPanel-headerlogo, .jsPanel-titlebar, .jsPanel-ftr.active",opacity:.8,start:!1,drag:!1,stop:!1,disable:!1,disableui:!1},footerToolbar:!1,headerControls:{close:!1,maximize:!1,minimize:!1,normalize:!1,smallify:!1,controls:"all",iconfont:"jsglyph"},headerLogo:!1,headerRemove:!1,headerTitle:"jsPanel",headerToolbar:!1,id:()=>"jsPanel-"+(n.id+=1),maximizedMargin:[5,5,5,5],minimizeTo:!0,onbeforeclose:!1,onbeforemaximize:!1,onbeforeminimize:!1,onbeforenormalize:!1,onbeforesmallify:!1,onbeforeunsmallify:!1,onclosed:!1,onmaximized:!1,onminimized:!1,onnormalized:!1,onbeforeresize:!1,onresized:!1,onsmallified:!1,onunsmallified:!1,onfronted:!1,onwindowresize:!1,paneltype:!1,position:"center",resizable:{handles:"n, e, s, w, ne, se, sw, nw",autoHide:!1,minWidth:40,minHeight:40},resizeit:{containment:!1,grid:!1,handles:"n, e, s, w, ne, se, sw, nw",minWidth:40,minHeight:40,maxWidth:1e4,maxHeight:1e4,start:!1,resize:!1,stop:!1,disable:!1,disableui:!1},rtl:!1,setstatus:!1,show:!1,template:!1,theme:"default"},e.jsPanel.modaldefaults={draggable:!1,dragit:!1,headerControls:{controls:"closeonly"},position:"center",resizable:!1,resizeit:!1,onwindowresize:!0},e.jsPanel.tooltipdefaults={draggable:!1,dragit:!1,headerControls:{controls:"closeonly"},position:{fixed:!1},resizable:!1,resizeit:!1},e.jsPanel.hintdefaults={autoclose:8e3,draggable:!1,dragit:!1,headerControls:{controls:"closeonly"},resizable:!1,resizeit:!1},e.jsPanel.contextmenudefaults={draggable:!1,resizable:!1,dragit:!1,resizeit:!1,headerRemove:!0,headerControls:{controls:"none"}},e.jsPanel.resizedefaults={width:"auto",height:"auto",minwidth:!1,maxwidth:!1,minheight:!1,maxheight:!1,resize:!1,callback:!1},e(document).ready((function(){document.body.addEventListener("click",t=>{e(t.target).closest(".jsPanel").length<1&&!t.target.classList.contains("hasTooltip")&&(n.closePanels("tooltip"),e(".hasTooltip").removeClass("hasTooltip")),n.closePanels("contextmenu")},!1),e("body").css("-ms-overflow-style","scrollbar").append('<div id="jsPanel-replacement-container">'),window.addEventListener("keydown",t=>{const o=t.key||t.code;"Escape"!==o&&"Esc"!==o||n.activePanels.list.sort((function(e,t){return document.getElementById(t).style.zIndex-document.getElementById(e).style.zIndex})).some((function(o){let s=e("#"+o),i=s.parent().closest(".jsPanel");if(n.closeOnEscape||s[0].getAttribute("data-closeonescape"))return i.length&&("closeparent"===n.closeOnEscape||s[0].getAttribute("data-closeonescape"))||t.shiftKey?(n.activePanels.getPanel(i[0].id).close(),!0):(n.activePanels.getPanel(s[0].id).close(),!0)}))},!1)}))}(jQuery)}}]);